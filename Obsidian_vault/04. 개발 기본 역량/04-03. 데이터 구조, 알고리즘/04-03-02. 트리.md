# 트리 (Tree)
그래프의 한 종류로 사이클이 없어서 **계층적 관계**를 표현
![[04-03-02.tree.png]]
- **루트 노드(root node)** : 부모 노드가 없는 노드, 트리에서는 하나의 루트 노드가 존재
- **부모 노드(parent node)** : 루트 노드 방향으로 연결된 노드
- **자식 노드(child node)** : 루트 노드의 반대 방향으로 연결된 노드
- **단말 노드(leaf node)** : 자식 노드가 없는 노드
- **형제 노드(sibling node)** : 부모 노드가 같은 노드
- **레벨(level)** : 루트 노드로부터 노드의 상대적 위치를 의미
- **높이(height)** : 트리의 최대 레벨 + 1을 의미
- **차수(degree)** : 자식 노드의 개수
## 이진 트리 (Binary Tree)
자식 노드가 최대 **2** 개인 트리
1. **완전 이진 트리(Complete Binary Tree)**
   트리의 마지막 레벨을 제외한 **모든 레벨**에 노드가 채워져 있다.
   ![[04-03-02.완전_불완전_이진트리.png]]
   
2. **포화 이진 트리(Perfect Binary Tree)**
   트리의 마지막 레벨까지 **노드가 모두** 채워져 있는 이진 트리
   ![[04-03-02.perfect_binary_tree.png]]
3. **이진 탐색 트리 (BST, Binary Search Tree)**
   한 노드의 왼쪽 서브 트리는 해당 노드의 값보다 작은 값을 가진 노드로 구성, 
   오른쪽 서브 트리는 해당 노드의 값보다 큰 값을 구성.
   ![[04-03-02.bst.gif]]
   -> 균형 이진 탐색 트리는 **O**(log*N*) (best)
   -> 불균형 이진 탐색 트리는 **O**(*N*) (worst)
	![[04-03-02.균형_불균형.png]]
### 삽입, 삭제 연산
1. **삽입**
   루트 노드부터 차례대로 값을 비교해 나가면서 삽입할 자리를 찾음
   ![[04-03-02.tree_insert.gif]]
2. **삭제**
	- 자식 노드가 **0** 개 인 경우
	  해당 노드만 삭제.
	- 자식 노드가 **1** 개 인 경우
	  자식 노드를 해당 노드의 위치에 이동, 해당 노드 삭제.
	- 자식 노드가 **2** 개 인 경우
	  - 오른쪽 서브 트리의 가장 작은 값을 해당 노드의 위치에 이동, 해당 노드 삭제.
	  - 왼쪽 서브 트리의 가장 큰 값을 해당 노드의 위치에 이동, 해당 노드 삭제.
### **균형 이진 탐색 트리**(balanced BST)
삽입이나 삭제 연산을 수행하여도 트리의 균형을 유지하는 트리
1. 레드 블랙 트리 (Red-Black Tree)
   노드가 레드 또는 블랙으로 이루어진 트리. 정해진 규칙을 만족하면서 균형을 유지한다.
   ![[04-03-02.red_black_tree.png]]
   - 모든 노드는 레드 또는 블랙이다.
   - 루트 노드는 블랙이다.
   - 모든 단말 노드(leaf node, NIL)는 블랙이다.
   - 레드 노드의 자식 노드는 블랙이며 레드 노드는 연속으로 나올 수 없다.
   - 루트 노드에서 임의의 단말노드까지의 경로에 블랙 노드의 개수는 모두 같다.
2. AVL 트리
   자가 균형 이진 탐색 트리.
   왼쪽 서브 트리와 오른쪽 서브 트리의 높이 차이를 유지해 균형을 잡는 트리.
   높이 차이, BF(Balance Factor) : 왼쪽 서브 트리의 높이에서 오른쪽 서브 트리의 높이를 뺀 값.
   - 왼쪽 서브 트리와 오른쪽 서브 트리의 높이 차이는 **최대** 1이다.
   - 왼쪽 서브 트리와 오른쪽 서브 트리의 높이 차이가 1 보다 커지면 균형을 잡아 높이 차이를 줄인다.
	1. LL(Left Left) 불균형
	   가운데 노드를 중심으로 오른쪽으로 회전
	   ![[04-03-02.avl_LL.png]]
	2. RR(Right Right) 불균형
	   가운데 노드를 중심으로 왼쪽으로 회전
	   ![[04-03-02.avl_RR.png]]
	3. LR(Left Right) 불균형
	   마지막 노드를 중심으로 왼쪽 회전 -> 오른쪽 회전
	   ![[04-03-02.avl_LR.png]]
	4. RL(Right Left) 불균형
	   마지막 노드를 중심으로 오른쪽 회전 -> 왼쪽 회전
	   ![[04-03-02.avl_RL.png]]