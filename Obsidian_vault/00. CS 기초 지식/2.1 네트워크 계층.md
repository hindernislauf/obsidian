# 2.1 네트워크 계층
- 기기간 통신을 위한 구조
- 개념적으로 OSI 7계층
- 실제 인터넷 통신 TCP/IP 4계층
- 데이터 송수신 과정
- 전체적인 동작 흐름을 이해하는 것이 중요

### OSI 7계층
- 네트워크 통신이 이뤄지는 과정
- 7단계로 나눈 네트워크 표준 모델
- 데이터를 송신할 때는 높은 계층에서 낮은 계층으로
- 수신할때는 반대로
- 각 계층에서 필요한 정보를 추가해서 데이터를 가공
	- 캡슐화 (헤더, 트레일)
	- 호환성을 높이고 오류의 영향을 최소화
- 수신부에서 데이터를 받으면 역캡슐화
- 
![](https://i.imgur.com/iF03gPB.png) 

<center>계층별 데이터 캡슐화 과정</center>

#### 프로토콜
- 규칙
- 데이터를송수신하기위해

### 7계층에서 1계층까지 
- 데이터를 어떤 것을 추가해서 보낼까
- 각 계층의 장비

![](https://i.imgur.com/BSBk02O.png)

##### 7계층 (응용)
- HTTP, FTP 등의 프로토콜을 응용프로그램의 UI를 통해 제공
##### 6계층 (표현)
- 데이터를 표준화된 형식으로 변경
##### 5계층 (세션)
- 세션의 유지 및 해제 등 응용 프로그램 간 통신제어와 동기화
##### 4계층 (전송)
- 신뢰성
- 전송방식 TCP, UDP
- 포트
##### 3계층 (네트워크)
- 라우터
	- 송신부에서 수신부까지 보내기 위한 최적의 경로를 선택
##### 2계층 (데이터 링크)
- 데이터 흐름을 관리
- 오류 검출 및 복구
- 브리지, 스위치, 이더넷 
##### 1계층 (물리)
- 비트 단위의 0과 1로 변환
- 장비를 사용해 전송, 전기 신호를 데이터로 복원
- 리피터, 허브

### TCP/IP 4계층
- 네트워크 프로토콜
- 인터넷에서 데이터를 주고받기위한
- 'P'는 프로토콜
- HTTP
- OSI 7계층을 단순화

![](https://i.imgur.com/PXjV2oq.png)

<center>OSI 7계층, TCP/IP 4계층 비교</center>
##### TCP
- 전송제어 프로토콜
- 데이터를 나눈 단위 패킷
- 패킷의 전달여부와 전송순서를 보장
##### IP
- 인터넷 프로토콜
- 패킷을 빠르게 보내기 위해

### 4계층에서 1계층 까지
- 각 계층의 역할
- 계층별 프로토콜
- 데이터 단위 이름

![](https://i.imgur.com/eFUsYjy.png)

<center>TCP/IP 각 계층의 데이터 흐름과 전송 단위</center>
##### 4계층 (응용)
- 사용자와 소프트웨어를 연결
- HTTP, HTTPS, DNS
##### 3계층 (전송)
- 데이터의 신뢰성을 보장
- 포트 번호로 데이터를 응용프로그램에 전달
- TCP, UDP
- 세그먼트
##### 2계층 (인터넷)
- 데이터를 최종 목적지까지 도달할 수 있게
- IP
- 패킷 or 데이터그램
	- 전송 계층으로부터 받은 데이터에 헤더를 붙여 캡슐화
##### 1계층 (네트워크 인터페이스, 네트워크 접근 계층)
- 데이터를 전기 신호로 변환
- MAC 주소를 사용해 기기에 데이터를 전달
- 이더넷, Wi-Fi

### 용어사전
##### 패킷
	데이터를 작게 분할한 단위
- 네트워크에서 주고 받음
- 데이터의 송신, 수신 주소 정보가 포함되어 목적지에 전달할 수 있게 함
##### MAC 주소
	하드웨어 고유 주소
- 48비트
- 네트워크 인터페이스 계층
##### IP 주소
	컴퓨터 또는 네트워크를 식별하기 위한 값
- IPv4에서 주소 값 형태는 xxx.xxx.xxx.xxx
- 8자리 2진수 4개를 10진수로 표현
- 네트워크부 / 호스트부
	- 네트워크부 : 어떤 네트워크에 속해있는지
	- 호스트부 : 네트워크 안에서 어떤 기기인지

![](https://i.imgur.com/QkWmjnt.png)

IPv4 주소

##### 서브넷 마스크
	네트워크부와 호스트부를 구분
- 255 또는 0
- 연속적인 1, 0

![](https://i.imgur.com/X2YutDQ.png)

<center>서브넷 마스크</center>

- 네트워크부와 호스트부를 알 수 있다
	- 서브넷 마스크와 IP주소를 and 연산 (공통적인 것만 1로 표현)

![](https://i.imgur.com/l1AHY7u.png)

<center>IP 주소의 네트워크부와 호스트부 식별</center>


