### 03 일반적인 데이터 파이프라인 패턴
##### 파이프라인 설계 시 고려사항 (예시)
- 목표와 제약조건
- 데이터를 실시간 처리 가능 여부
- 데이터의 업데이트 주기
- 분석된 데이터의 최종 사용 방향 
- e.g. 시각화 대시보드나 머신러닝 모델의 입력값으로 사용 여부
#### ETL과 ELT
##### Extract 추출
> 다양한 소스에서 데이터 수집
##### Load 로드 
> 데이터 웨어하우스, 데이터 레이크 또는 기타 대상에 데이터를 로드
##### Transform 변환
> 각 소스 시스템의 원본 데이터를 결합하고 형식을 지정하는 단계
###### 공통점
- 데이터웨어 하우징 및 비즈니스 인텔리전스(BI)에서 널리 사용되는 패턴
- 운영환경에서 실행되는 데이터 과학 및 머신러닝 모델을 위한 파이프라인 패턴에 영향을 주어 데이터 파이프라인 자체와 동의어로 사용되기도 함
- 데이터 웨어하우스에 데이터를 공급하고 분석가나 보고 도구가 사용할 수 있게 하는 데이터 처리에 대한 접근 방식
###### 차이점
- 설계상 의미가 큼
- 변환과 로드의 순서 차이
#### ETL을 넘어선 ELT의 등장
|     | ETL                                                                                               | ELT                                                                                   |
| --- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
|     |                                                                                                   | 현대적인 개념                                                                               |
| 배경  | 행 기반 데이터베이스(트랜잭션 처리 적합)<br>> 분석에 사용하는 대용량 쿼리에 부적합                                                 | 열 기반 데이터베이스(비용 효율적인 방식)<br>> DB I/O 효율성, 데이터 압축, 데이터 처리를 위한 여러 병렬 노드에 데이터 및 쿼리를 분산 가능 |
| 예시  | MySQL, Postgres                                                                                   | Snowflake, Amazon Redshift                                                            |
|     | OLTP(온라인 트랜잭션 처리)<br>e.g. 상거래 웹 애플리케이션                                                            | 분석가, 데이터 과학자<br>e.g. 머신러닝, 데이터 제품 개발                                                  |
| 의미  | 적은 양의 데이터를 자주 읽고 씀<br>- 여러 데이터 유형 사용<br>- 주문 확인 페이지(주문 세부 정보) 읽기, 쓰기<br>- 한 번에 하나의 주문만 쿼리하거나 업데이트 | 많은 양의 데이터를 드물게 읽고 씀<br>- 동일한 데이터 유형 사용<br>- 특정 열의 대부분 또는 단일 열 사용                      |
|     | 단일 레코드를 자주 읽고 쓰는 속도가 중요<br>> 레코드가 블록에 빈 공간을 남기는 쓰는 경우                                             | 블록을 남김없이 활용하고 최적으로 압축 가능                                                              |

#### EtLT 하위 패턴
>대량 데이터를 이동하는 파이프라인 또는 대기 시간이 핵심인 경우, 
  추출 단계와 로드 단계 사이에 몇 가지 기본 변환을 수행
- 테이블에서 레코드 중복 제거
- URL 파라미터를 개별 구성요소로 구문 분석
- 민감한 데이터 마스킹 또는 난독화
