# 4. ISP(Interface Segregation Principle): 인터페이스 분리 원칙
- 클라이언트 자신이 이용하지 않는 기능에는 영향을 받지 않아야 한다는 내용이다.
- 즉, 객체는 자신이 사용하는 메서드에만 의존해야 한다는 법칙이다. 객체가 사용하지 않는 메서드를 의존해서는 안 된다는 뜻이기도 하다.
- 인터페이스를 클라이언트에 특화되도록 분리시키는 것이 설계 원칙이다.

## 4-1. ISP를 위반한 설계 예시
![[ISP를 위반한 설계.png]]
- 위 그림에서는 User1, User2, User3 객체들이 OPS를 상속받고 있다.
- User1은 오직 op1 메서드만을, User2는 op2 메서드만을, User3는 op3 메서드만을 사용한다고 가정해보자.
- 이 상황에서 User1은 OPS 전체를 상속 받았기 때문에 op1, op2, op3 메서드를 모두 사용할 수 있지만, 정작 op1 메서드만을 필요로 한다. User1은 op2를 사용하지 않음에도 불구하고, op2 메서드에 변경이 일어나면, 함께 변경되어 재컴파일&재배포 과정을 거쳐야 하는 문제가 생긴다.
- 즉, 상속 받은 OPS 객체의 규모가 필요보다 크기 때문에 문제가 생기는 것이다.

## 4-2. ISP를 준수한 설계 예시
![[ISP를 준수한 설계.png]]
- 위 그림에서 OPS는 OPS를 상속 받는 U1Ops, U2Ops, U3Ops로 잘게 분리되었다.
- 이렇게 분리하여 설계하면, 각각의 객체들은 오직 자신이 필요한 메서드만을 사용할 수 있는 구조가 된다.
- 만약 op2 메서드의 변경이 일어나더라도 User1 객체에는 전혀 영향이 가지 않는다. ISP를 준수한 바람직한 설계 구조라고 볼 수 있다.
---
## ISP를 적용한 코드 예제
- 원래 Transportation 클래스의 메서드였던 기능들을 각각의 인터페이스로 분리해주었다.
- ==> 이를 통해 각각의 Car, Ship 객체는 필요한 인터페이스만을 선택적으로 구현할 수 있다.
```java
public interface boarding {
    public void boarding();
}

public interface drive {
    public void dive();
}

public interface driveLeft {
    public void driveLeft();
}

public interface driveRight {
	public void driveRight();
}

public interface steer {
    public void steer();
}

public interface steerLeft {
    public void steerLeft();
}

public interface steerRight {
	public void steerRight();
}
```

- 다음은 필요한 기능을 가진 인터페이스만을 구현한 Car객체이다. 더이상 필요없는 Ship에 관련한 메서드들을 따로 구현하지 않아도 된다.

```java
public class Car implements boarding,drive,driveLeft,driveRight{

    @Override
    public void boarding() {
        // 구현...
    }
    
    @Override
    public void dive() {
        System.out.println("운전합니다.");
    }

    @Override
    public void driveLeft() {
        System.out.println("왼쪽으로 운전합니다.");
    }
    
    @Override
    public void driveRight() {
        System.out.println("오른쪽으로 운전합니다.");
    }
    
}
```

- 인터페이스 분리 원칙을 적용한 설계이기 때문에, Ship 객체도 위와 같이 자신에게 필요한 메서드들만 구현하여 사용할 수 있다.
- 인터페이스는 다중 상속을 지원하므로, 필요한 기능을 인터페이스로 나누면 해당 기능만을 상속받을 수 있다. 만약에 추후 업데이트 되는 새로운 기능이 생긴다고 해도, 기존의 코드 변경 없이 새 기능을 가지는 인터페이스를 설계해 객체 내에 구현해주면 된다.

## ISP 참고 사항
ISP는 동일한 문제에 대해 다른 해결책을 제시하고 있는 것이라는 점에서 SRP와 비슷하다. 하나의 클래스가 기능이 비대하다면 책임을 분할하여 이를 갖게 하는 것이 SRP이고, 비대한 기능을 인터페이스로 분할하여 사용하는 것이 ISP이다.

---
## 요약
		인터페이스 분리 원칙이란 반드시 객체가 자신에게 필요한 기능만을 가지도록 제한하는 원칙이다. 불필요한 상속과 구현을 최대한 방지함으로써 객체의 불필요한 책임을 제거한다. 필요보다 큰 규모의 객체는 인터페이스로 잘게 나누어 확장성을 향상시킬 수 있다. 객체를 상속할 때는 불필요한 의존 관계가 맺어지지 않는지 잘 판단하여 올바르게 상속하도록 하자!