# 1. 프로세스

	: 프로세스는 프로그램이 실행 중인 상태로 특정 메모리 공간에 프로그램의 코드가 적재되고 CPU 가 해당 명령어를 하나씩 수행하고 있는 상태를 의미한다.

## 중요도 🥇

운영 체제에서는 프로세스를 사용하여 프로그램을 수행하게 되는데, 실행 중인 하나의 애플리케이션을 프로세스라고 부른다.

사용자가 애플리케이션을 실행하면, 운영체제로부터 실행에 필요한 메모리를 할당받아 애플리케이션의 코드를 실행한다. 이때 실행되는 애플리케이션을 프로세스라고 부른다.

예를 들어 Chrome 브라우저를 두 개 실행하면, 두 개의 프로세스가 생성된다. 이렇게 하나의 애플리케이션은 여러 프로세스(다중 프로세스)를 만들기도 한다.


![](https://i.imgur.com/UtBYnAD.png)

위 사진에서 보이는 항목 하나하나가 전부 프로세스다.

---
### 1) 프로세스의 구성 요소
**유저 메모리 영역 관리(Virtual Address Descriptors)**
: 프로세스 별로 독립된 영역을 가지게 되는 곳은 유저 메모리 공간이다.


**핸들 테이블(Handle Table)**
: 핸들 테이블은 프로세스에서 사용하는 모든 핸들에 대한 커널 객체 포인터 정보를 배열 형태로 가지고 있는 공간이다.


**독립적인 메모리 공간**
: 프로세스 단위로 관리되는 자원 중 가장 중요한 구별점은 가상 메모리이다. 페이징 기법을 이용하여 프로세스마다 별도의 고유한 메모리를 사용할 수 있게 하고 있다(윈도우의 경우).



### 2) 프로세스의 특징
**자원 소유의 단위**
- 각 프로세스는 자신의 실행 이미지 로드와, 실행에 필요한 추가적인 메모리 공간을 가지고 있어야 한다.
- 이것은 각 프로세스마다 구별되어야 하며, 해당 프로세스가 접근하고자 하는 파일, I/O 장치들에 대해서도 프로세서 단위로 할당받아 관리되어야 한다.

**디스패칭의 단위**
- 프로세스는 하나의 프로그램이 운영 체제로부터 CPU의 자원을 일정 기간 동안 할당받아 명령어를 실행하는 것이다.
- 운영 체제는 여러 개의 프로세스가 병렬적으로 실행되게 하기 위해서 CPU의 사용 시간을 각각의 프로세스에 골고루 나누어 주어야 한다.

하나의 프로세스에 여러 개의 디스패칭 단위가 실행될 수 있도록 하고 있으며, 이러한 디스패칭의 단위를 **스레드**라고 부른다.


### 3) 프로세스 상태
- 실행(Run): 프로세스가 프로세서를 차지하여 서비스를 받고 있는 상태를 말한다.
- 준비(Ready): 실행될 수 있도록 준비되는 상태를 말한다.
- 대기(Waiting): CPU의 사용이 아니라 입출력의 사건을 기다리는 상태를 말한다.

### 4) 프로세스의 메모리 영역 구조

![](https://i.imgur.com/ApCliq1.png)
(그림) 프로세스의 메모리 영역 구조

각 영역에 대한 설명은 다음과 같다.

- 스택(stack): 지역 변수, 함수의 매개 변수(parameter), 반환되는 메모리 주소 값 등이 저장되는 영역이다. 높은 주소 값에서 낮은 주소 값으로 메모리가 할당되며, 영역 크기는 컴파일 때 결정된다.
- 힙(heap): 사용자에 의해 동적 메모리 할당이 일어나는 영역이다. C언어에서 malloc()으로 할당되는 영역이라고 보면 된다. 낮은 주소 값에서 높은 주소 값으로 메모리가 할당되며, 영역 크기는 런타임 때 결정된다.
- 데이터(data): 전역 변수, 정적 변수, 배열, 구조체 등이 저장되는 영역이다. 데이터 영역은 세부적으로 BSS(Block Stated Symbol) 영역과 데이터 영역으로 다시 나눌 수 있다. BSS 영역은 초기화하지 않은 변수를, 데이터 영역은 초기화한 변수를 저장한다.
- 코드(code): 실행할 코드가 기계어로 컴파일되어 저장되는 영역으로, 텍스트(text) 영역이라고도 한다.

==> 여기서 스택 영역과 힙 영역은 동적으로 메모리 할당이 가능하기 때문에, 두 영역 사이에 빈 메모리 공간이 존재한다. **스택 영역은 LIFO(Last In First Out, 후입선출) 방식**으로, 높은 주소 값에서 낮은 주소 값 순서로 사용한다. **힙 영역은 FIFO(First In First Out, 선입선출) 방식**으로, 낮은 주소 값에서 높은 주소 값 순서로 사용한다.

하지만 메모리 영역을 공유하기 때문에, 서로의 영역을 침범하는 문제가 생길 수 있다. 스택 영역이 힙 영역을 침범하는 경우를 **스택 오버플로우(stack overflow)**, 힙 영역이 스택 영역을 침범하는 경우를 **힙 오버플로우(heap overflow)** 라고 한다.

---

#### 용어 사전
- **오버 플로우(overflow)**: 메모리 공간에서 할당할 수 있는 최대 범위를 넘어가는 것을 의미한다.
- **언더 플로우(underflow)**: 메모리 공간에서 할당할 수 있는 최소 범위보다 작은 것을 의미한다.



