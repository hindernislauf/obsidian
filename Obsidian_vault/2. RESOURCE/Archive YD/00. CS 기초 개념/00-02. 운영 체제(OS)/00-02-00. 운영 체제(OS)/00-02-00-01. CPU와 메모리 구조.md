# 1. CPU(Central Processing Unit): 중앙 처리 장치

## 중요도 🥈


- 폰 노이만의 제안으로 만들어짐
- 컴퓨터 시스템을 이루는 구성요소는 CPU, 주 기억장치(메모리), 보조 기억 장치(디스크 등)
- 컴퓨터를 이루는 기본 골격 == 컴퓨터 시스템을 이루는 구성요소 + I/O(입출력장치)
- 다른 말로는 **프로세서(Processor)** 라고도 한다.

![[Von Neuman Structure.png]]
(참고): 폰 노이만 구조(von Neumann architecture)

	폰 노이만 구조란 중앙 처리 장치(CPU)를 통해서 연산을 수행하게 되는 구조이며, 이 CPU는 수행된 연산을 기억 장치에 입력하고 명령어들을 수행하도록 하는 컴퓨터 시스템을 이루는 핵심 부품이다.


## 1) CPU의 구조(내부 구성)

![[CPU의 내부 구성.png]]

### (1) 산술 / 논리 연산 장치(ALU)
: 산술적인 연산과 논리적인 연산을 담당하는 장치로 [가산기](https://ko.wikipedia.org/wiki/%EA%B0%80%EC%82%B0%EA%B8%B0), [보수기](https://namu.wiki/w/%EB%B3%B4%EC%88%98%EA%B8%B0), [누산기](https://ko.wikipedia.org/wiki/%EB%88%84%EC%82%B0%EA%B8%B0), [기억 레지스터](https://ko.wikipedia.org/wiki/%EA%B8%B0%EC%96%B5_%EC%9E%A5%EC%B9%98_%EC%A3%BC%EC%86%8C_%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0), 데이터 레지스터 등으로 구성됨

캐시나 메모리로부터 읽어온 데이터는 레지스터(Register)라는 CPU 전용의 기억 장소에 저장되며, ALU는 레지스터에 저장된 데이터를 이용하여 덧셈, 곱셈 등과 같은 산술 연산을 수행한다.

[부동소수점 장치(FPU)](https://ko.wikipedia.org/wiki/%EB%B6%80%EB%8F%99%EC%86%8C%EC%88%98%EC%A0%90_%EC%9E%A5%EC%B9%98)와 정수연산장치, 논리연산장치

### (2) 제어 장치(Control Unit, CU)
: CPU가 자신 및 주변 기기들을 컨트롤하는 장치

**제어장치의 구성**
- 프로그램 수행 순서를 제어하는 프로그램 계수기(Program counter)
- 현재 수행 중인 명령어의 내용을 임시 기억하는 명령 레지스터(Instruction register)
- 명령 레지스터에 수록된 명령을 해독하여 수행될 장치에 제어 신호를 보내는 명령 해독기(Instruction decoder)

제어 장치의 구현 방식은 고정 배선 제어(Hardwired) 방식과 Micro Program 방식이 있다.

![[스크린샷 2024-05-16 19.40.33.png]]


### (3) 레지스터(Register)
: 레지스터는 중앙처리장치(CPU) 내부에 있는 기억장치
- 산술 연산 논리장치에 의해 사용되는 범용 레지스터(General-Purpose Register)
- PC 등 특수 목적에 사용되는 전용 레지스터(Dedicated-Purpose Register)

**레지스터의 종류**
- IR(Instruction Register): 현재 수행 중에 있는 명령어 부호를 저장하고 있는 레지스터
- PC(Program Counter): 명령이 저장된 메모리의 주소를 가리치는 레지스터
- AC(Accumulator): 산술 및 논리 연산의 결과를 임시로 기억하는 레지스터



## 2) CPU의 기능
: CPU의 기능은 명령어와 데이터에 관련이 있다.

명령어 인출 및 해독은 모든 명령어들에 대하여 공통적으로 수행되며, 기억 장치로부터 명령어를 읽어온다. 그리고 데이터 인출 및 처리, 쓰기와 같은 것들은 명령어에 따라 필요할 때만 수행한다. 이 명령어 및 명령어 수행 과정과 처리 방식은 CPU에서 중요한 부분을 차지한다.

### (1) 명령어란?
: 명령어는 시스템이 특정 동작을 수행시키는 작은 단위이다. 명령어는 코드로 되어 있는데, 다음과 같이 구성된다.
- 동작 코드(Operational Colde): 각 명령어의 실행 동작을 구분하여 표현한다.
- 오퍼랜드(Operand): 명령어의 실행에 필요한 자료나 실제 자료의 저장 위치를 의미한다.

### (2) 명령어 수행 과정
: CPU가 하나의 명령(Operation)을 처리하는 과정

![[명령 처리 과정.png]]

- 읽기(Fetch Instruction, FI): 메모리에서 명령을 가져온다.
- 해석(Decode Instruction, DI): 명령을 해석한다.
- 실행(Execute Instruction, EI): 명령을 수행한다.
- 기록(Write Back, WB): 수행한 결과를 기록한다.

### (3) 명령어 처리 방식
: 명령어의 처리 방식에는 RISC와 CISC가 있다.

**RISC(Reduced Instruction Set Computer)**: 컴퓨터 내부적으로 사용하는 명령어 세트를 단순화시켜서 처리하는 형태의 구조로, 단순한 명령을 조합해서 하나의 기능을 수행함
- 하나의 사이클로 명령어를 처리한다.
- 메모리 Load / Store 령령만 처리하는 방식이다.
- 파이프라이닝, 슈퍼스칼라의 사용이 가능하다.
- 복잡한 컴파일러 구조를 갖고 있다.

**CISC(Complex Instruction Set Computer)**: 하나의 기능에 해당하는 하나의 명령이 있는 개념이라 보면 됨
- 여러 사이클로 명령어를 처리한다.
- 많은 명령어가 메모리를 참조하는 처리 방식이다.
- 파이프라이닝의 사용이 어렵다.
- 복잡한 마이크로 프로그램 구조를 갖고 있다.



# 2. Memory(메모리)
: 컴퓨터에서 말하는 메모리는 기억소자(=반도체)를 의미하는데, 반도체의 전류를 흐르게도 하고 흐르지 않게도 하는 특징을 이용해 임시적인 내용들을 기억하게 만든다.

## 1) 메모리 분류별 특성

메모리 또한 기억 장소라는 의미인데,
기억 저장 장소라는 개념의 HDD, CD/DVD, USB 저장장치 등의 보조 기억장치들을 포함한다.
그렇다면 이것들과 메모리의 차이는 무엇일까?

가장 큰 차이점은 바로 **"휘발성"** 이다.
==
==> 메모리는 시스템이 활성화된 상태에서 그 값을 기억하고 있지만, 시스템이 ShutDown 되면 지워진다. 그에 비해 보조 기억장치는 시스템이 꺼져도 기억하고 있는 값이 휘발되지 않는다.

또한 저장 / 읽기 속도 면에서도 메모리와 보조 기억장치는 현저하게 차이난다.

![[기억 장치의 비교.png]]


## 2) 메모리 성능

메모리의 속도는 메모리가 CPU와 데이터를 주고받는 시간을 의미한다.
이것을 **액세스**라 부르며, 단위는 ns(nano-second, 10억분의 1초)로써 메모리 속도의 기준이 된다. 메모리의 성능은 속도가 빠를수록 성능이 좋다고 할 수 있다.

- 리프레시 시간
	메모리는 일정 시간마다 재충전을 해줘야 하는데, 그렇지 않으면 정보는 사라진다. 이 일정 기간을 리프레시 시간이라고 한다. 이는 메모리에서 한 번 읽고 나서 다시 읽을 수 있는 사이 시간을 말한다.

- 메모리 액세스 시간
	메모리 액세스 시간은 데이터를 읽어오라는 명령을 받고 데이터를 읽기 시작하기까지의 시간을 말한다. CPU에서 명령어를 처리할 때 명령어가 갖는 주소를 보낸다. 그러면 CPU에 그 주소에 해당하는 값을 가져 오게 되는데 걸리는 시간이 액세스 시간이다.

- 사이클 시간(리프레시 시간 + 메모리 액세스 시간)
	사이클 시간은 메모리 액세스 시간과 리프레시 시간을 더한 것으로, 메모리 작업이 완료와 동시에 대기 신호를 내놓은 후 다음 신호를 받을 준비가 되었다는 신호를 주기까지의 시간을 의미한다.


## 3) 메모리 종류

메모리 중에서 주 기억장치의 종류로는 RAM과 ROM,
보조 기억 장치의 종류로는 자기 디스크, 광디스크, 플래시 메모리가 있다.

### (1) 주 기억장치

**RAM(Random Access Memory)**
- 컴퓨터의 전원이 끊어지면 내용이 휘발되어 보조 저장 장치가 반드시 필요하다. RAM의 크기는 프로그램의 수행 속도에 영향을 준다. (RAM의 크기가 작으면 게임이 잘 돌아가지 않는 경우를 생각하면 된다.) 또한 CPU에서 직접 접근이 가능한 유일한 저장 장치이다.
- RAM 종류에는 SRAM과 DRAM이 있는데, SRAM은 리프레쉬가 필요없고 전력 소모가 적으나 비싸며, DRAM은 리프레시가 필요하지만 SRAM보다 저가이며 많이 사용되는 편이다.

**ROM(Read Only Memory)**
- 대부분 읽을 수만 있는 장치로 구성되어 있으며, 전원이 끊겨도 내용이 보존된다.

### (2) 보조 기억 장치

**자기 디스크**
- 원판 표면의 철 입자의 방향(N/S극)으로 0과 1을 표현한다. 디스크 드라이브는 자기 디스크로부터 데이터를 읽는 주변 장치를 의미한다.
- 자기 디스크에는 FDD와 HDD가 존재한다.

**광 디스크**
- 광 디스크(Optical Disc, OD)는 빛의 반사를 이용하여 자료를 읽어내는 저장 매체.
- 1세대인 CD부터 시작해 2세대 DVD를 거쳐 3세대인 블루레이 디스크까지 존재함. 차세대 디스크로는 테라 디스크나 HVD 등이 존재함.

**플래시 메모리**
- 전자적으로 데이터를 지우고 쓸 수 있는 비휘발성 메모리로 충격에 강하여 휴대용 기기에 널리 쓰임.
- 플래시 메모리에는 USB와 SSD가 존재하며, SSD는 HDD와 달리 디스크, 헤더와 같은 기계적 장치는 빠졌지만 저전력, 저소음, 저중량이라는 특징을 가지고 있다.


### (2) 캐시 메모리(Cache Memory)

캐시 메모리는 CPU 내 또는 외에 존재하는 메모리로써, 메인 메모리와 CPU 간의 데이터 속도 향상을 위한 중간 버퍼 역할을 한다.

여기서 'Cache'라는 의미는 보관이나 저장의 의미를 가지고 있다. 캐시 메모리는 이러한 역할을 하는 물리적 장치를 말한다. CPU와 메인 메모리 사이에 존재한다고 말할 수 있는데, CPU 내에 존재할 수도 있고 역할이나 성능에 따라서는 CPU 밖에 존재할 수도 있다.

특히 빠른 CPU의 처리속도와 상대적으로 느린 메인 메모리에서 속도의 차이를 극복하는 완충 역할을 해준다. 쉽게 표현하자면 CPU는 빠르게 일을 진행하고 있는데, 메인 메모리가 데이터를 가져오고, 가져가는게 느려서 캐시 메모리가 중간에 미리 CPU에 전달될 데이터를 들고 서있는 형태라고 생각하면 된다.


**캐시 메모리의 성능 결정 요소**

캐시 메모리는 메인 메모리에 일정 블록 사이즈의 데이터를 담아두었다가, CPU에 워드 사이즈 만큼의 데이터를 전송하게 된다.

이 때 이 사이즈들이 캐시의 성능에 영향을 미치게 되는데, 블록 사이즈나 워드 사이즈가 상대적으로 크다면 그만큼 Cache의 Hit Ratio가 높아지기 때문이다.

CPU는 필요한 데이터가 Cache Memory 내에 들어와 있으면 'Cache Hit'라 하고,
접근하고자 하는 데이터가 없는 경우를 'Cache Miss'라 한다.

이렇게 원하는 데이터가 있을 수도 있고 없을 수도 있는데, 이 때 원하는 데이터가 Cache에 있을 확률을 'Hit Ratio'라고 한다.




![[스크린샷 2024-05-17 10.28.40.png]]


